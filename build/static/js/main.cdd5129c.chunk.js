(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__1m1Q_",ImageGalleryItemImage:"imageGalleryItem_ImageGalleryItemImage__3_tRM"}},16:function(e,t,a){e.exports={Overlay:"modal_Overlay__1oGyr",Modal:"modal_Modal__XPxL3"}},26:function(e,t,a){e.exports={ImageGallery:"imageGallery_ImageGallery__3y41b"}},28:function(e,t,a){e.exports={Loader:"loader_Loader__T60PF"}},29:function(e,t,a){e.exports={Button:"button_Button__Hax0N"}},30:function(e,t,a){e.exports={App:"app_App__30hcM",Searchbar:"app_Searchbar__3T4mc"}},79:function(e,t,a){},8:function(e,t,a){e.exports={Searchbar:"searchbar_Searchbar__2iFS-",SearchForm:"searchbar_SearchForm__154z_",SearchFormButton:"searchbar_SearchFormButton__1CDZR",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__2YyHg",SearchFormInput:"searchbar_SearchFormInput__1GM8x"}},80:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),s=a(6),i=a.n(s),u=a(17),l=a(12),m=a(4),b=a(13),h=(a(37),a(31)),j=a(8),p=a.n(j),d=a(1),f=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(d.jsx)("header",{className:p.a.Searchbar,children:Object(d.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):Object(b.b)("Enter your query!")},children:[Object(d.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(d.jsx)(h.a,{})}),Object(d.jsx)("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",value:c,autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.target.value;o(t.toLowerCase())}})]})})},g=a(39).create({baseURL:"https://pixabay.com/api/",params:{key:"23855124-9744a76c55c8d410f772c2e55",image_type:"photo",orientation:"horizontal"}});function O(){return O=Object(l.a)(i.a.mark((function e(){var t,a,r,n,c,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:" ",a=s.length>1&&void 0!==s[1]?s[1]:1,r=s.length>2&&void 0!==s[2]?s[2]:12,n={q:t,page:a,per_page:r},e.prev=4,e.next=7,g("",{params:n});case 7:return c=e.sent,o=c.data,e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(4),console.error("No results found for ".concat(t));case 15:case"end":return e.stop()}}),e,null,[[4,12]])}))),O.apply(this,arguments)}var _={fetchImages:function(){return O.apply(this,arguments)}},x=_,v=a(15),y=a.n(v);var S=function(e){var t=e.image,a=t.id,r=t.webformatURL,n=t.largeImageURL,c=t.tags,o=e.onClick;return Object(d.jsx)("li",{className:y.a.ImageGalleryItem,onClick:o,children:Object(d.jsx)("img",{className:y.a.ImageGalleryItemImage,id:a,src:r,alt:c,"data-source":n})})},I=a(26),k=a.n(I);var w=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)("ul",{className:k.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(S,{image:e,onClick:a},e.id)}))})},F=(a(58),a(27)),G=a.n(F),C=a(28),N=a.n(C),L=function(){return Object(d.jsx)(G.a,{className:N.a.Loader,type:"Grid",color:"#00BFFF",height:80,width:80})},B=a(29),E=a.n(B),M=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",onClick:t,className:E.a.Button,children:"Load more"})},R=a(16),T=a.n(R),U=document.querySelector("#modal-root"),q=function(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:T.a.Modal,children:a})}),U)},H=a(30),P=a.n(H),z=function(){var e=Object(r.useState)(1),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),s=o[0],h=o[1],j=Object(r.useState)(""),p=Object(m.a)(j,2),g=p[0],O=p[1],_=Object(r.useState)(!1),v=Object(m.a)(_,2),y=v[0],S=v[1],I=Object(r.useState)(!1),k=Object(m.a)(I,2),F=k[0],G=k[1],C=Object(r.useState)(""),N=Object(m.a)(C,2),B=N[0],E=N[1];Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.fetchImages(g,a);case 3:t=e.sent,r=t.hits,h((function(e){return[].concat(Object(u.a)(e),Object(u.a)(r))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}g&&(S(!0),function(){e.apply(this,arguments)}())}),[g,a]);return Object(d.jsxs)("div",{className:P.a.container,children:[Object(d.jsx)(f,{onSubmit:function(e){h([]),O(e),n(1)}}),Object(d.jsx)(w,{gallery:s,onClick:function(e){"IMG"===e.target.nodeName&&(G(!0),E(e.target.dataset.source))}}),F&&Object(d.jsx)(q,{onClose:function(){G(!1),E()},largeImageURL:B,children:Object(d.jsx)("img",{src:B,alt:s.tags})}),y&&Object(d.jsx)(L,{}),s.length>0&&!y&&Object(d.jsx)(M,{onClick:function(){n((function(e){return e+1}))}}),Object(d.jsx)(b.a,{})]})};a(79);o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(z,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.cdd5129c.chunk.js.map